<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TMHS Orchestra | Home</title>
    <meta name="title" content="TMHS Orchestra">
    <meta name="description" content="Home of the TMHS Orchestra">
    <!--Links-->
    <link rel="stylesheet" type="text/css" href="style/main.css">
    <link rel="stylesheet" type="text/css" href="style/index-page.css">
    <script src="https://kit.fontawesome.com/43780ab02c.js" crossorigin="anonymous"></script>
    <link rel="manifest" type="text/json" href="maifest.json">
    <link rel="icon" type="image/png" href="favicon.png">
    <!--Generated Style-->
    <style>
        .slides{display:none}.slideshow-contianer{max-width:50vw;position:relative;margin:auto}.next,.prev{cursor:pointer;position:absolute;top:50%;width:auto;padding:16px;margin-top:-22px;color:#fff;font-weight:700;font-size:32px;transition:.6s ease;border-radius:0 3px 3px 0;user-select:none}.next{right:1%;border-radius:3px 0 0 3px}.next:hover,.prev:hover{background-color:rgba(0,0,0,.8)}.fade{-webkit-animation-name:fade;-webkit-animation-duration:1.2s;animation-name:fade;animation-duration:1.2s}@-webkit-keyframes fade{from{opacity:.4}to{opacity:1}}@keyframes fade{from{opacity:.4}to{opacity:1}}@media only screen and (max-width:600px){.next,.prev{font-size:18px}}
    </style>
</head>
<body>
    <div class="pg_title">TMHS ORCHESTRA</div>
    <nav class="navbar">
            <div class="nav-item">
                <a href="calendar.html" class="nav-link"><i class="far fa-calendar-alt"></i><span class="link-text">Calendar</span></a>
            </div>
            <div class="nav-item">
                <a href="booster.html" class="nav-link"><i class="fas fa-user-friends"></i><span class="link-text">Booster</span></a>
            </div>
            <div class="nav-item">
                <a href="program.html" class="nav-link"><i class="fas fa-school"></i><span class="link-text">Program</span></a>
            </div>
            <div class="nav-item">
                <a href="https://tmhs-orchestra-booster-club.square.site/shop/course-fee/3" target="_blank" class="nav-link"><i class="fas fa-store"></i><span class="link-text">Shop</span></a>
            </div>
    </nav>
    <main class='info'>
        <section>
            <fieldset class="info_field" style="background-color:#fff;margin:1.25rem 0 1rem 0;">
                <img width="90%;" height="auto" style="margin-left:5%;" alt="TMHS Orchestra Logo" src="assets/orch-logo.png">
            </fieldset>
            <fieldset class="info_field" id="post_feed" style="overflow-y:scroll;">
                <legend>Updates</legend>
                <span id="program_updates"><!--For message feed--></span>
            </fieldset>
        </section>
        <section>
            <fieldset class='info_field' id="gallery">
                <!--Gallery-->
                <legend>Gallery</legend>
                <div class="slideshow-container" id="slideshow" style="box-sizing:border-box;">
                    
                </div>
            </fieldset>
            <fieldset class="info_field">
                <legend>Amazon Smile</legend>
                <a href="https://smile.amazon.com/ch/81-3768984"><img src="assets/amzn-smile-banner.png" alt="Amazon Smile Banner" width="50%" height="auto" style="display:block;border-radius:.75rem;margin-top:1rem;margin:auto;"></a>
            </fieldset>
        </section>
    </main>
    <!--Footer-->
    <div class="footer">
            <ul>
                <li class="footer-list"><a href="calendar.html" class="footer-link">Calendar</a></li>
                <li class="footer-list"><a href="booster.html"  class="footer-link">Booster</a></li>
                <li class="footer-link"><a href="program.html" class="footer-link">Program</a></li>
                <li class="footer-list"><a href="https://tmhs-orchestra-booster-club.square.site/shop/course-fee/3" class="footer-link">Shop</a></li>
            </ul>
            <div>
                <a href="https://www.youtube.com/channel/UCVX4mT-lY0iYu8DMyrC-a2A" style="color:#fff;"><i class="fab fa-youtube" aria-hidden="true"></i></a>
                <hr>
                <span class="footer-text">Â© 2020 TMHS Orchestra</span><br>
                <span class="footer-text" style="cursor: pointer;"><a onclick="loginFunction()">Login</a></span>
            </div>
    </div>
    <!--Scripts-->
    <script type="text/javascript" src="script/prog_updates.js"></script>
    <script type="text/javascript" src="script/gallery_feed.js"></script>
    <script id="script-test"></script>

    <!--Authorization-->
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-auth.js"></script>
    <script>
        const config = {
        apiKey: "AIzaSyC5Pfh5VjcbeHL7lxZdVjbI6hkVuhQG-T4",
        authDomain: "orch-website.firebaseapp.com",
        databaseURL: "https://orch-website.firebaseio.com",
        projectId: "orch-website",
        storageBucket: "orch-website.appspot.com",
        messagingSenderId: "216030039794",
        appId: "1:216030039794:web:d49263dcecd18cff3d0a6b",
        measurementId: "G-WSLG1WQ4VX"
        };
        firebase.initializeApp(config);

        function loginFunction() {
            const googleAuth = new firebase.auth.GoogleAuthProvider();
            firebase.auth().signInWithPopup(googleAuth).then((result) => {
                var credential = result.credential;
                console.log(credential);
                var user = result.user;
                console.log(user);

                if (user.uid != 'tUXSkvmqzMMiivgvPO8N5yPJhdp2') {
                    firebase.auth().signOut();
                    alert("Must log in with the Booster Club Email");
                }
            }).catch((error) => {
                var errorCode = error.code;
                var errorMessage = error.message;
                var email = error.email;
                var credential = error.credential;
            });

            firebase.auth().onAuthStateChanged(function(user) {
                if(user) {
                    window.location.replace('../admin/console.html');
                }
            });
        }
    </script>
</body>
</html>